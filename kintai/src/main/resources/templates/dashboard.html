<div th:fragment="page">

  <div class="card">
    <div class="h1">ダッシュボード</div>
    <div class="muted">
      日付：<strong th:text="${today}"></strong>
    </div>

    <div class="spacer"></div>

    <div class="row">
      <div class="card" style="flex:1; margin-top:0;">
        <div class="muted">社員数</div>
        <div class="h1" th:text="${totalEmployees}"></div>
      </div>

      <div class="card" style="flex:1; margin-top:0;">
        <div class="muted">今日の出勤者数</div>
        <div class="h1" th:text="${checkedInToday}"></div>
      </div>

      <div class="card" style="flex:1; margin-top:0;">
        <div class="muted">未退勤者数</div>
        <div class="h1" style="color:#f97316;" th:text="${notCheckedOutCount}"></div>
      </div>
    </div>

    <div class="spacer"></div>

    <div class="row">
      <a class="btn btn-primary" th:href="@{/ui/employees}">社員一覧へ</a>
      <a class="btn" th:href="@{/ui/employees/new}">＋ 新規作成</a>
    </div>
  </div>

  <div class="card">
    <div class="h2">未退勤一覧</div>
    <div class="muted">出勤済みで退勤が未登録の社員</div>

    <table class="table">
      <thead>
        <tr>
          <th>社員</th>
          <th>日付</th>
          <th>出勤</th>
          <th>状態</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="a : ${notCheckedOutList}">
          <td th:text="${a.employee.name}"></td>
          <td th:text="${a.workDate}"></td>
          <td th:text="${a.checkIn}"></td>
          <td>
            <span class="badge badge-in">出勤中</span>
          </td>
          <td>
            <a th:href="@{'/ui/employees/' + ${a.employee.id}}">開く</a>
          </td>
        </tr>

        <tr th:if="${#lists.isEmpty(notCheckedOutList)}">
          <td colspan="5" class="muted">未退勤の社員はいません</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
