<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>ダッシュボード</title>
  <style>
    .cards { display:flex; gap:12px; margin: 12px 0; flex-wrap:wrap; }
    .card { border:1px solid #ddd; border-radius:10px; padding:12px 16px; min-width:200px; }
    .big { font-size: 22px; font-weight: bold; }
    table { border-collapse: collapse; width: 100%; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 8px; }
    th { background: #f2f2f2; }
    .warn { color:#f9a825; font-weight:bold; }
  </style>
</head>
<body>

<h1>ダッシュボード</h1>
<p>日付: <strong th:text="${today}"></strong></p>

<div class="cards">
  <div class="card">
    <div>社員数</div>
    <div class="big" th:text="${totalEmployees}"></div>
  </div>

  <div class="card">
    <div>今日の出勤者数</div>
    <div class="big" th:text="${checkedInToday}"></div>
  </div>

  <div class="card">
    <div>未退勤者数</div>
    <div class="big warn" th:text="${notCheckedOutCount}"></div>
  </div>
</div>

<p>
  <a th:href="@{/ui/employees}">社員一覧へ →</a>
</p>

<h2>未退勤一覧</h2>

<table>
  <thead>
    <tr>
      <th>社員</th>
      <th>出勤</th>
      <th>詳細</th>
    </tr>
  </thead>
  <tbody>
    <tr th:each="a : ${notCheckedOutList}">
      <td th:text="${a.employee.name}"></td>
      <td th:text="${a.checkIn}"></td>
      <td>
        <a th:href="@{'/ui/employees/' + ${a.employee.id}}">開く</a>
      </td>
    </tr>
    <tr th:if="${#lists.isEmpty(notCheckedOutList)}">
      <td colspan="3">未退勤の社員はいません</td>
    </tr>
  </tbody>
</table>

</body>
</html>
